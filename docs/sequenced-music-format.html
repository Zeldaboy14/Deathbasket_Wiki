<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<!-- Mirrored from sites.google.com/site/deathbasketslair/zelda/sequenced-music-format by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 22 Dec 2021 16:55:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="images/sites-16.ico" />
<link rel="apple-touch-icon" href="images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/deathbasketslair/zelda","deleted":false,"title":"Zelda","dir":"ltr"},{"path":"/site/deathbasketslair/zelda/sequenced-music-format","deleted":false,"title":"Sequenced Music (Audioseq) Format","dir":"ltr"}];
  var JOT_clearDotPath = 'images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://546935521-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"DeathBasket's Lair","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":true},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue=https://sites.google.com/site/deathbasketslair/zelda/sequenced-music-format&service=jotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/65ef77/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/65ef77/system/js/codemirror.js","images/codemirror_css.css","images/trog_edit__en.js","images/trogedit.css","images/editor.css","images/codeeditor.css","/site/deathbasketslair/_/rsrc/1639038102000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/deathbasketslair","name":"deathbasketslair","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/zelda","parentWuid":"wuid:gx:d5a1d3e318b37ca","siteLocale":"en_GB","timeZone":"America/Los_Angeles","type":"text","title":"Sequenced Music (Audioseq) Format","locale":"en","wuid":"wuid:gx:4bef96da65133373","revision":5,"path":"/zelda/sequenced-music-format","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"sequenced-music-format","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/site/deathbasketslair/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Sequenced Music (Audioseq) Format - DeathBasket's Lair" />
<meta itemprop="name" content="Sequenced Music (Audioseq) Format - DeathBasket's Lair" />
<meta property="og:title" content="Sequenced Music (Audioseq) Format - DeathBasket's Lair" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="images/standard-css-glitter-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="images/overlayd461.css?cb=glitter4a150goog-ws-leftnone30themedefaultstandard" />
<link rel="stylesheet" type="text/css" href="images/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/deathbasketslair/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Sequenced Music (Audioseq) Format - DeathBasket's Lair</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en_GB            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2><a href="index.html" dir="ltr" id="sites-chrome-userheader-title">DeathBasket's Lair</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/site/deathbasketslair/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="home.html" jotId="wuid:gx:2d93d154134c8417" class="sites-navigation-link topLevel">Welcome!</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="files.html" jotId="wuid:gx:765d6d1e3d204f9c" class="sites-navigation-link topLevel">Files</a></div></li><li class="topLevel parent " wuid="gx:26fcab0806616088"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="mario-golf.html" jotId="wuid:gx:26fcab0806616088" class="sites-navigation-link topLevel">Mario Golf</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="formatted-text-dump.html" jotId="wuid:gx:402ea47ea061666f" class="sites-navigation-link">Formatted text dump</a></div></li><li class="parent closed " wuid="gx:2ec4d2a02552cbd8"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="documentation.html" jotId="wuid:gx:2ec4d2a02552cbd8" class="sites-navigation-link">Game Documentation</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="compression.html" jotId="wuid:gx:7f828069a9a805ec" class="sites-navigation-link">Compression</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="hole-components.html" jotId="wuid:gx:7824c75248a24188" class="sites-navigation-link">Hole components</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="ram-functions.html" jotId="wuid:gx:562573259269c931" class="sites-navigation-link">RAM functions</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4d0cba5c661ecac6"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="programming.html" jotId="wuid:gx:4d0cba5c661ecac6" class="sites-navigation-link topLevel">Programming</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="collision-fixer.html" jotId="wuid:gx:3ed656f96c29d004" class="sites-navigation-link">Collision Fixer</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ocarina-of-time-instrument-set-editor-oot-insted.html" jotId="wuid:gx:842afed270f4317" class="sites-navigation-link">Ocarina of Time instrument set editor (OoT InstEd)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ocarina-of-time-text-tool.html" jotId="wuid:gx:1833e7d5030c18a0" class="sites-navigation-link">Ocarina of Time Text Tool</a></div></li></ul></li><li class="topLevel parent " wuid="gx:d5a1d3e318b37ca"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="zelda.html" jotId="wuid:gx:d5a1d3e318b37ca" class="sites-navigation-link topLevel">Zelda</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="collision-normals.html" jotId="wuid:gx:5bae41658313eb7a" class="sites-navigation-link">Collision Normals</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="instrument-set-format.html" jotId="wuid:gx:6e39bf9bedbd80ed" class="sites-navigation-link">Instrument Set (Audiobank) Format</a></div></li><li class="parent closed " wuid="gx:1a547ff7346d8d82"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="majoras-mask.html" jotId="wuid:gx:1a547ff7346d8d82" class="sites-navigation-link">Majora's Mask</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="actors-and-overlays.html" jotId="wuid:gx:4ddcac34bf35abb6" class="sites-navigation-link">Actors and Overlays</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="instrument-lists.html" jotId="wuid:gx:583df29ed9d895fb" class="sites-navigation-link">Instrument Lists</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="instrument-sets-and-sequences.html" jotId="wuid:gx:5d11b015d6e8c48" class="sites-navigation-link">Instrument Sets and Sequences</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="ram-notes.html" jotId="wuid:gx:296a4b4c7794e9b7" class="sites-navigation-link">RAM notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="switches-and-switch-actors.html" jotId="wuid:gx:5875bfc0f69bb274" class="sites-navigation-link">Switches and switch actors</a></div></li></ul></li><li class="parent closed " wuid="gx:6bc143c3255111ac"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="ocarina-of-time.html" jotId="wuid:gx:6bc143c3255111ac" class="sites-navigation-link">Ocarina of Time</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="audio-debugger.html" jotId="wuid:gx:7a4ab8836858c29f" class="sites-navigation-link">Audio Debugger</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="boss-rush-mode-hack.html" jotId="wuid:gx:a00615cf0dfb42e" class="sites-navigation-link">Boss Rush mode (Hack)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="instrument-lists-2.html" jotId="wuid:gx:2956b2da2ae1b76f" class="sites-navigation-link">Instrument Lists</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="instrument-sets-and-sequences-2.html" jotId="wuid:gx:2334be7ed48f2ed" class="sites-navigation-link">Instrument Sets and Sequences</a></div></li></ul></li><li class=""><div class="current-bg" jotId="wuid:gx:4bef96da65133373" dir="ltr" style="padding-left: 38px;">Sequenced Music (Audioseq) Format</div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="importance-of-hardware-compatibility.html" jotId="wuid:gx:4d920a3695e0eae" class="sites-navigation-link">The Importance of Hardware Compatibility</a></div></li></ul></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-embed-align-left-wrapping-off" id="COMP_5544886263087392" role="complementary"><div class="sites-embed-border-on sites-embed sites-embed-full-width" style="width:100%;"><div class="sites-embed-content sites-embed-type-countdown"><div aria-label="28499 days until I make the site not suck" class="sites-embed-countdown sites-embed-countdown-fromdateutc-2100-1-1"><span jotid="content"><p style="text-align: center"><strong aria-hidden="true" class="sites-embed-countdown-daysapart">28499</strong><span aria-hidden="true">days until </span><br aria-hidden="true" /><strong aria-hidden="true">I make the site not suck</strong></p></span></div></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="zelda.html" dir="ltr">Zelda</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Sequenced Music (Audioseq) Format</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1">
<div dir="ltr">
<h2><a name="TOC-Overview"></a><span><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Overview"><strong>1 </strong>Overview</a></li><li class="goog-toc"><a href="#TOC-Format"><strong>2 </strong>Format</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Sequence-Header-Commands"><strong>2.1 </strong>Sequence Header Commands</a></li><li class="goog-toc"><a href="#TOC-Channel-Header-Commands"><strong>2.2 </strong>Channel Header Commands</a></li><li class="goog-toc"><a href="#TOC-Music-Data"><strong>2.3 </strong>Music Data</a></li></ol></li><li class="goog-toc"><a href="#TOC-Sequence-Pointer-Table"><strong>3 </strong>Sequence Pointer Table</a></li><li class="goog-toc"><a href="#TOC-Moving-Audioseq"><strong>4 </strong>Moving Audioseq</a></li></ol></div></div></div></div>Overview </span></h2>
<p>The sequenced music in the Zelda 64 games follows a MIDI type format which is a slightly updated version of the format used by earlier games such as Super Mario 64. There are generally three different parts to the sequences: </p>
<p><strong>Sequence Header<br /></strong>This is the part of the sequence that controls things such as master volume, tempo and loop settings. </p>
<p><b>Channel Header</b><br />Controls volume, pan, etc. and points to music data to be played back on each channel. </p>
<p><b>Music Data</b><br />Contains the data for which notes should be played, their velocity, length, etc. </p><a name="Format"></a>
<h2><a name="TOC-Format"></a><span>Format </span></h2>
<p>From here, all numbers will be given in hexadecimal unless stated otherwise. </p><a name="Sequence_Header_Commands"></a>
<h3><a name="TOC-Sequence-Header-Commands"></a><span>Sequence Header Commands </span></h3><pre>D3 xx
</pre>
<p>Seems to be something to do with the sequence type or format; for Super Mario 64, xx is usually 80, for Zelda 64, xx is usually 20. </p><pre>D5 xx
</pre>
<p>Unknown. xx usually takes the value of 32. For sequences that don't play any music xx is 46. </p><pre>D7 xxxx
</pre>
<p>Enables channels given by xxxx (boolean, each channel is one bit). </p><pre>9x yyyy
</pre>
<p>Points to a channel header offset. x is the channel number (0 - F) and yyyy is the offset of that channel's header relative to the start of the sequence file. </p><pre>DB xx
</pre>
<p>Master volume control, xx is the volume. </p><pre>DD xx
</pre>
<p>Tempo control, xx is the tempo value in beats per minute. </p><pre>CC yyxx
</pre>
<p>Unknown. yy starts at zero and increases each time the command appears, xx is (always?) 73. </p><pre>FD xx / FD yyyy
</pre>
<p>Timestamp (number of 'ticks' to wait before the next command is read, relative to tempo), variable length. If xx goes above 7F, add 8000 to it to get yyyy. </p><pre>FB xxxx
</pre>
<p>Offset to loop from, xxxx is the offset relative to the start of the sequence file. </p><pre>D6 xxxx
</pre>
<p>Disables channels given by xxxx. </p><pre>FF
</pre>
<p>Marks the end of the sequence header.<br /><br />Note: some sequences have the following data after the first four bytes of their sequence header:<br /></p><pre>D7FFFF 8776CCFF7786F3 vv F2 ww C801F3 xx [C801FA yyyy] FB zzzz
</pre>
<p>vv, ww and xx are unknowns, yyyy and zzzz seem to be pointers to 9x commands for different parts of the sequence within the sequence header. The part in square brackets is repeated in some sequences. Its purpose is currently unknown but it may be to do with continuing playback mid-sequence after returning to the area from a house/shop. </p><a name="Channel_Header_Commands"></a>
<h3><a name="TOC-Channel-Header-Commands"></a><span>Channel Header Commands </span></h3><pre>C4
</pre>
<p>Initialises the channel for music playback. </p><pre>8x yyyy
</pre>
<p>Points to music data to be played on the current channel. x is the 'note layer' to be used (8 - B), up to a maximum of four note layers can be loaded per channel. yyyy is the offset of the music data to be played, relative to the start of the sequence file. </p><pre>DF xx (yy)
</pre>
<p>Channel volume. xx is the volume value, yy is a timestamp used between control changes (when the volume is changing constantly). </p><pre>DD xx
</pre>
<p>Channel pan. xx is the pan amount, 00 = hard left, 3F = centre, 7F = hard right. </p><pre>E9 xx
</pre>
<p>Priority. Unknown how it is used, takes the value of xx. </p><pre>D4 xx
</pre>
<p>Effects level (echo). xx is the effect amount. </p><pre>D8 xx (yy)
</pre>
<p>Vibrato amount, value of xx. Higher values can produce odd sounds. yy is a timestamp used between control changes. </p><pre>D3 xx (yy)
</pre>
<p>Pitch bend amount, signed, value of xx. yy is a timestamp used between control changes. </p><pre>C2 xx
</pre>
<p>Transposition, signed. xx is the number of semitones to transpose by. </p><pre>C1 xx
</pre>
<p>Sets the instrument number, xx, to be used for the current channel. </p><pre>FD xx / FD yyyy
</pre>
<p>Timestamp (see sequence header commands). </p><pre>FF
</pre>
<p>Marks the end of the channel header. </p><a name="Music_Data"></a>
<h3><a name="TOC-Music-Data"></a><span>Music Data </span></h3>
<p>Things get a little more complicated here.<br /></p><pre>nn tt(tt) vv gg
</pre>
<p>Play note command, valid when nn &gt;= 00 and nn &lt;= 3F, where:<br />nn = Note value<br />tt(tt) = Variable length timestamp<br />vv = Note velocity<br />gg = Gate time </p><pre>nn tt(tt) vv
</pre>
<p>Play note command, valid when nn &gt;= 40 and nn &lt;= 7F, where:<br />nn = Note value + 40<br />tt(tt) = Variable length timestamp<br />vv = Note velocity<br />Gate time in this case is the same as was used for the previous play note command. </p><pre>nn vv gg
</pre>
<p>Play note command, valid when nn &gt;= 80 and nn &lt;= BF, where:<br />nn = Note value + 80<br />vv = Note velocity<br />gg = Gate time<br />Timestamp in this case is the same as was used for the previous play note command. </p><pre>C0 xx / C0 yyyy
</pre>
<p>Timestamp / rest. Used when no music needs to be played for a set amount of time, xx/yyyy is the variable length timestamp value. </p><pre>FC xxxx
</pre>
<p>Jumps to offset xxxx relative to the start of the sequence file and plays the data from there until it reaches the next FF command. </p><pre>FF
</pre>
<div>Marks the end of the current music data.<br /><br />Note: It seems that some of the channel header commands are valid for use in the music data but the only one that's really useful is the C2 command (transposition). </div>
<div> </div>
<h2><a name="TOC-Sequence-Pointer-Table"></a>Sequence Pointer Table</h2>
<div>The sequence pointer table starts at <font face="courier new,monospace">0xBCC6A0</font> in the OoT Debug ROM and follows this format:</div>
<div> </div>
<div><font face="courier new,monospace">xxxx 0000 0000 0000 0000 0000 0000 0000</font></div>
<div> </div>
<div>xxxx = number of sequences</div>
<div> </div>
<div>The rest of the table looks like:</div>
<div> </div>
<div><font face="courier new,monospace">xxxxxxxx yyyyyyyy zzzz 0000 00000000</font></div>
<div> </div>
<div>xxxxxxxx = Pointer to the start of the sequence in the sequenced music file (Audioseq)</div>
<div>yyyyyyyy = Length in bytes of the sequence</div>
<div>zzzz = Sequence type</div>
<div> </div>
<h2><a name="TOC-Moving-Audioseq"></a>Moving Audioseq</h2>
<div>To move the Audioseq file to another location in ROM for whatever reason, you will need to correct its entry in the file table, fix CRC and also change the assembly code used to load sequences from the file. This can be found at <font face="courier new,monospace">0xB5A4AC</font> in the Debug ROM and looks like:</div>
<div> </div>
<div><font face="courier new,monospace">3C05 xxxx 24A5 yyyy</font></div>
<div> </div>
<div>or if you prefer the assembly code: </div>
<div><font face="courier new,monospace">LUI       $A1,xxxx</font></div>
<div><font face="courier new,monospace">ADDIU     $A1,$A1,yyyy</font></div>
<div> </div>
<div>xxxx = upper half of address</div>
<div>yyyy = lower half of address</div>
<div> </div>
<div>
<div>Remember that these numbers are signed so if yyyy is greater than <font face="courier new,monospace">0x7FFF</font> you need to add 1 to xxxx.</div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/deathbasketslair/zelda/sequenced-music-format&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="reportabuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="images/jot_min_view__en_gb.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">if (webspace.editorResources['text']) {webspace.editorResources['text'].unshift('#\/site\/deathbasketslair\/system\/app\/css\/overlay.css?cb\x3dglitter4a150goog-ws-leftnone30themedefaultstandard');webspace.editorResources['text'].unshift('#\/site\/deathbasketslair\/_\/rsrc\/1639038102000\/system\/app\/themes\/glitter\/standard-css-glitter-ltr-ltr.css');}</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/site/deathbasketslair/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en_GB");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/site/deathbasketslair/zelda/sequenced-music-format by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 22 Dec 2021 16:55:43 GMT -->
</html>
